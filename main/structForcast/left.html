<script type="text/javascript">
  var gd;
  var rgd;
  var time;
  var token;
  $(document).ready(function(){
    simpleTree($("#mTree"));

      $(".monitorForcast .itemContent .bullet").click(function(event){
          $("#graphTitle1").text($(this).text());
          var data = RGraph.array_pad([], 60);
          if (typeof(gd)!="undefined") {
              gd.stopDrawing();
          }
          if (typeof(rgd)!="undefined") {
              if (typeof(token)!="undefined") {
                  clearInterval(token);
              }
          }
          if (typeof(gd1)!="undefined") {
              gd1.stopDrawing();
          }
          if (typeof(rgd1)!="undefined") {
              if (typeof(token1)!="undefined") {
                  clearInterval(token1);
              }
          }
          if($(this).attr("real")=="true"){
              if (typeof(time)=="undefined") {time = 0;}
              var sensorId = $(this).attr("sensorNum");
              rgd = new RealGraphDrawer("graphContent1", data);
              token = setInterval(function(){
                  $.ajax({
                      url:$.URL.sensor.getDataWithTime+sensorId+".htm",
                      dataType:'jsonp',
                      success: function(response) {
                          rgd.drawGraph(response.data);
                      }
                  });
              }, 1000);
          } else {
              gd = new GraphDrawer("graphContent1", data);
              gd.drawGraph();
          }
          event.stopPropagation();
      });
    $("#yingbing2100000000001010").trigger("click");

  });

</script>

<div id="mTree" domain="structure" class="monitorForcast">
  <div class="treeItem">
        <div class="itemTitle titleShow">臂架</div>
        <div class="itemContent contentShow">
          <div class="treeItem">
            <div class="itemTitle titleShow">顶部</div>
            <div class="itemContent contentShow">
                <div class="bullet"  real="true" sensorNum="2100000000001011" id="yingbing2100000000001011">应变传感器1</div>
                <div class="bullet"  real="true" sensorNum="2100000000001012" id="yingbing2100000000001012">应变传感器2</div>
                <div class="bullet"  real="true" sensorNum="2100000000001013" id="yingbing2100000000001013">应变传感器3</div>
            </div>
          </div>
          <div class="treeItem">
            <div class="itemTitle titleShow">根部</div>
            <div class="itemContent contentShow">
                <div class="bullet"  real="true" sensorNum="2100000000001014" id="yingbing2100000000001014">应变传感器1</div>
                <div class="bullet"  real="true" sensorNum="2100000000001015" id="yingbing2100000000001015">应变传感器2</div>
                <div class="bullet"  real="true" sensorNum="2100000000001016" id="yingbing2100000000001016">应变传感器3</div>
            </div>
          </div>
      </div>
</div>
    <div class="treeItem">
        <div class="itemTitle titleShow">转台</div>
        <div class="itemContent contentShow">
            <div class="bullet"  real="true" sensorNum="2100000000002021" id="yingbing2100000000002021">应变传感器1</div>
            <div class="bullet"  real="true" sensorNum="2100000000002022" id="yingbing2100000000002022">应变传感器2</div>
            <div class="bullet"  real="true" sensorNum="2100000000002023" id="yingbing2100000000002023">应变传感器3</div>
        </div>
    </div>
    <div class="treeItem">
        <div class="itemTitle titleShow">基柱</div>
        <div class="itemContent contentShow">
            <div class="bullet"  real="true" sensorNum="2100000000002031" id="yingbing2100000000002031">应变传感器1</div>
            <div class="bullet"  real="true" sensorNum="2100000000002032" id="yingbing2100000000002032">应变传感器2</div>
            <div class="bullet"  real="true" sensorNum="2100000000002033" id="yingbing2100000000002033">应变传感器3</div>
        </div>
    </div>
    <div class="treeItem">
        <div class="itemTitle titleShow">A字架</div>
        <div class="itemContent contentShow">
            <div class="bullet"  real="true" sensorNum="2100000000002041" id="yingbing2100000000002041">应变传感器1</div>
            <div class="bullet"  real="true" sensorNum="2100000000002042" id="yingbing2100000000002042">应变传感器2</div>
            <div class="bullet"  real="true" sensorNum="2100000000002043" id="yingbing2100000000002043">应变传感器3</div>
        </div>
    </div>
</div>